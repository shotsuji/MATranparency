"0","### READ IN DATA"
"0","url = getURL(""https://docs.google.com/spreadsheets/d/e/2PACX-1vRSq8M2OV53eK1Mt99hxjnUcinfZuA5poxKPPPtN5bv12gKfiz_DHvhHHHbbjuzpINWM-jGvRBxrANg/pub?gid=0&single=true&output=csv"")"
"0","ma_data = read.csv(textConnection(url), skip =1)"
"0","#some validity checks (not pertinent anymore since dealt with)"
"0","#ma_data[duplicated(ma_data$Citation) == TRUE,] #this showed 3 duplicates in original sheet - checked and moved duplicates to duplicates sheet in google sheet with documentation"
"0","#table(ma_data$Coder) #this shows that ST has 1, and EH 4 records more than required. ST simply coded one too much & this was moved to additional_codings sheet. EH had to MAs based on 3 separate searches each and therefore has 3 instead of 2 1 rows twice, leading to the 4 additional rows"
"0","### FORMAT"
"0","#remove columns not needed for ana"
"0","ma_data_ana = ma_data %>%"
"0","  #these columns are descriptive"
"0","  select(-c(Eligibility...Design.record,Comments,Response)) %>%"
"0","  #this columns are removed for the moment since coding is tricky "
"0","  select(-c(Eligibility...Design))"
"0","         "
"0","#get larger grouping variables"
"0","#groups = colnames(read.csv(textConnection(url)))"
"0","#groups_all = c(rep(groups[5],3*length_ma),rep(groups[8],5*length_ma),rep(groups[15],4*length_ma),rep(groups[19],3*length_ma),rep(groups[22],5*length_ma),rep(groups[27],1*length_ma),rep(groups[28],3*length_ma),rep(groups[31],5*length_ma),rep(groups[36],2*length_ma))"
"0","groups = c(""Background"",""Eligibility"",""SearchProcedure"",""Screening/Coding"",""MA methods"",""Bias"",""SearchResults"",""SumStats"",""Reproducibility"")"
"0","length_ma = dim(ma_data_ana)[1]"
"0","groups_all = c(rep(groups[1],3*length_ma),rep(groups[2],5*length_ma),rep(groups[3],4*length_ma),rep(groups[4],3*length_ma),rep(groups[5],5*length_ma),rep(groups[6],1*length_ma),rep(groups[7],3*length_ma),rep(groups[8],5*length_ma),rep(groups[9],2*length_ma))"
"0","#put into long format and recode "
"0","#overall"
"0","ma_data_long <- ma_data_ana %>%"
"0","  gather(criterion, value, -c(Coder:DOI)) %>%"
"0","  mutate(value_num = recode(value, ""n"" = 0, ""y"" = 1, ""correlation"" = 1, ""experimental"" = 1, ""group differences"" = 1"
"0",")) %>%"
"0","  mutate(groups = groups_all) %>%"
"0","  mutate(year = case_when(DoP >=1990 & DoP < 2000 ~ 1990,"
"0","                          DoP >=2000 & DoP < 2010 ~ 2000,"
"0","                          DoP >=2010 ~ 2010)) %>%"
"0","  mutate(x = 1)"
"0","#by MA type"
"0","length_ma = dim(ma_data_ana[ma_data_ana$Meta.Analysis.Type == ""correlation"",])[1]"
"0","groups_corr = c(rep(groups[1],3*length_ma),rep(groups[2],5*length_ma),rep(groups[3],4*length_ma),rep(groups[4],3*length_ma),rep(groups[5],5*length_ma),rep(groups[6],1*length_ma),rep(groups[7],3*length_ma),rep(groups[8],5*length_ma),rep(groups[9],2*length_ma))"
"0","ma_data_long_corr <- ma_data_ana %>%"
"0","  filter(Meta.Analysis.Type == ""correlation"") %>%"
"0","  gather(criterion, value, -c(Coder:DOI)) %>%"
"0","  mutate(value_num = recode(value, ""n"" = 0, ""y"" = 1, ""correlation"" = 1, ""experimental"" = 1, ""group differences"" = 1"
"0",")) %>%"
"0","  mutate(groups = groups_corr) %>%"
"0","  mutate(year = case_when(DoP >=1990 & DoP < 2000 ~ 1990,"
"0","                          DoP >=2000 & DoP < 2010 ~ 2000,"
"0","                          DoP >=2010 ~ 2010)) %>%"
"0","  mutate(x = 1)"
"0","length_ma = dim(ma_data_ana[ma_data_ana$Meta.Analysis.Type == ""experimental"",])[1]"
"0","groups_exp = c(rep(groups[1],3*length_ma),rep(groups[2],5*length_ma),rep(groups[3],4*length_ma),rep(groups[4],3*length_ma),rep(groups[5],5*length_ma),rep(groups[6],1*length_ma),rep(groups[7],3*length_ma),rep(groups[8],5*length_ma),rep(groups[9],2*length_ma))"
"0","ma_data_long_exp <- ma_data_ana %>%"
"0","  filter(Meta.Analysis.Type == ""experimental"") %>%"
"0","  gather(criterion, value, -c(Coder:DOI)) %>%"
"0","  mutate(value_num = recode(value, ""n"" = 0, ""y"" = 1, ""correlation"" = 1, ""experimental"" = 1, ""group differences"" = 1"
"0",")) %>%"
"0","  mutate(groups = groups_exp) %>%"
"0","  mutate(year = case_when(DoP >=1990 & DoP < 2000 ~ 1990,"
"0","                          DoP >=2000 & DoP < 2010 ~ 2000,"
"0","                          DoP >=2010 ~ 2010)) %>%"
"0","  mutate(x = 1)"
"0","length_ma = dim(ma_data_ana[ma_data_ana$Meta.Analysis.Type == ""group differences"",])[1]"
"0","groups_group = c(rep(groups[1],3*length_ma),rep(groups[2],5*length_ma),rep(groups[3],4*length_ma),rep(groups[4],3*length_ma),rep(groups[5],5*length_ma),rep(groups[6],1*length_ma),rep(groups[7],3*length_ma),rep(groups[8],5*length_ma),rep(groups[9],2*length_ma))"
"0","ma_data_long_group <- ma_data_ana %>%"
"0","  filter(Meta.Analysis.Type == ""group differences"") %>%"
"0","  gather(criterion, value, -c(Coder:DOI)) %>%"
"0","  mutate(value_num = recode(value, ""n"" = 0, ""y"" = 1, ""correlation"" = 1, ""experimental"" = 1, ""group differences"" = 1"
"0",")) %>%"
"0","  mutate(groups = groups_group) %>%"
"0","  mutate(year = case_when(DoP >=1990 & DoP < 2000 ~ 1990,"
"0","                          DoP >=2000 & DoP < 2010 ~ 2000,"
"0","                          DoP >=2010 ~ 2010)) %>%"
"0","  mutate(x = 1)"
